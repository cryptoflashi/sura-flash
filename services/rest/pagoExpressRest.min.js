if (nullObjectValidate(servicesRest)) {
    var servicesRest = angular.module('servicesRest', []);
}


servicesRest.factory('pagoExpressRest', ['$http', function($http) {
    return {

        searchPortfolio: function(data) {
            return $http({
                headers: {
                    "Content-Type": "application/json",
                    "accept": "application/json;odata=verbose"
                },
                method: 'PUT',
                url: apiHostPagoExpress + "/portfolio",
                data: data
            });
        },

        pay: function(data) {
            return $http({
                method: 'PUT', //'POST',
                headers: {
                    "Content-Type": "application/json",
                    "accept": "application/json;odata=verbose",
                    "Authorization": "Barer " + token
                },
                url: apiHostPagoExpress + "/Pay",
                data: data
            });
        },

        usertokens: function(data) {
            return $http({
                headers: {
                    "Content-Type": "application/json",
                    "accept": "application/json;odata=verbose",
                    "Authorization": "Barer " + token
                },
                method: 'PUT',
                url: apiHostPagoExpress + "/Usertokens",
                data: data
            });
        },

        paymentReceipt: function(data) {
            //console.log(pagoExpressService.token);
            return $http({
                headers: {
                    "Content-Type": "application/json",
                    "X-API-VERSION": "2",
                    "Api-Subscription-Key": "a4cfed0b92a64d699875ece11d9ea9e2",
                    "CAPTCHA-TOKEN": token
                },
                method: 'POST',
                url: "https://apidigitalpersonas.segurossura.com.co/apiportales/v1/ms-pago/pago/cupon-pago?subscription-key=a4cfed0b92a64d699875ece11d9ea9e2",
                data: data
            });
        },

        downloadPaymentReceipt: function(data) {
            return $http({
                headers: {
                    "Content-Type": "application/json",
                    "Api-Subscription-Key": "a4cfed0b92a64d699875ece11d9ea9e2",
                    "CAPTCHA-TOKEN": token
                },
                method: 'POST',
                url: "https://apidigitalpersonas.segurossura.com.co/apiportales/v1/ms-pago/pago/reimprimir-cupon?subscription-key=a4cfed0b92a64d699875ece11d9ea9e2",
                data: data
            });
        },

        paymentVoucher: function(data) {
            return $http({
                headers: {
                    "Content-Type": "application/json",
                    "accept": "application/json;application/pdf;odata=verbose",
                    "Authorization": "Barer " + token
                },
                responseType: 'blob',
                method: 'PUT',
                url: apiHostPagoExpress + "/PaymentVoucher",
                data: data
            });
        },

        paymentHistory: function(data) {
            return $http({
                headers: {
                    "Content-Type": "application/json",
                    "accept": "application/json;odata=verbose",
                    "Authorization": "Barer " + token
                },
                method: 'PUT',
                url: apiHostPagoExpress + "/PaymentHistory",
                data: data
            });
        }
    }
}]);